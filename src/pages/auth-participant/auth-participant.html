<!--
  Generated template for the AuthParticipantPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>{{name}}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="refresh()">
        <ion-icon name="refresh"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-card *ngIf="successMessage" color="secondary">
        <ion-card-content>
           {{successMessage}}
        </ion-card-content>
      </ion-card>
  <ion-card>
    <ion-card-content>
        Name - {{name}}
    </ion-card-content>
  </ion-card>


  <ion-grid>

      <ion-row>
          <ion-col col-9>
              <ion-list>
                  <ion-item>
                    <ion-select [(ngModel)]="basketHash" interface="popover" placeholder="Basket Hash">
                      <ion-option value="nes">NES</ion-option>
                      <ion-option value="n64">Nintendo64</ion-option>
                      <ion-option value="ps">PlayStation</ion-option>
                      <ion-option value="genesis">Sega Genesis</ion-option>
                      <ion-option value="saturn">Sega Saturn</ion-option>
                      <ion-option value="snes">SNES</ion-option>
                    </ion-select>
                  </ion-item>
                </ion-list>
          </ion-col>
          <ion-col col-3>
              <ion-buttons end>
                <button ion-button outline icon-only (click)="issueBasket()">
                    <ion-icon name="add"></ion-icon>
                  </button>
              </ion-buttons>
          </ion-col>
        </ion-row>

      <ion-row>
        <ion-col class="sectionHeader" color="primary" col-12>
            SECURITY BASKET
        </ion-col>
      </ion-row>
      <ion-row class="header">
        <ion-col col-2>
          Basket Hash
        </ion-col>
        <ion-col col-8>
            Transaction Id
        </ion-col>
        <ion-col col-2>
            Transfer
          </ion-col>
      </ion-row>
        <ion-row *ngFor="let basket of baskets">
          <ion-col col-2>
              {{basket.state.data.basketIpfsHash}}
            </ion-col>
            <ion-col col-8>
              {{basket.ref.txhash}}
            </ion-col>
            <ion-col col-2>
                <button ion-button icon-only (click)="transferBasket(basket)">
                    <ion-icon name="arrow-dropright"></ion-icon>
                  </button>
              </ion-col>
        </ion-row>
        <br>

        <ion-row>
            <ion-col class="sectionHeader" color="primary" col-12>
                RECEIVED ETFs
            </ion-col>
          </ion-row>
          <ion-row class="header">
              <ion-col col-9>
                ETF Name - Code
              </ion-col>
              <ion-col col-3>
                  Quantity
              </ion-col>
            </ion-row>
              <ion-row *ngFor="let etf of etfs">
                <ion-col col-9>
                    {{etf.state.data.etfCode}}
                  </ion-col>
                  <ion-col col-3>
                    {{etf.state.data.quantity}}
                  </ion-col>
              </ion-row>

    </ion-grid>

</ion-content>
